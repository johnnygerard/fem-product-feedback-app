<div class="container">
  <app-go-back />
  <form *ngIf="dataLoaded" (ngSubmit)="submitForm(form)" #form="ngForm">
    <app-edit-feedback-icon-svg class="icon" />
    <h1 class="title">Editing ‘{{ originalTitle }}’</h1>
    <label>
      <hgroup>
        <h1>Feedback Title</h1>
        <p>Add a short, descriptive headline</p>
      </hgroup>
      <input class="control" [class.error]="isInvalid(titleInput, form)" name="title"
          [(ngModel)]="title" required #titleInput="ngModel">
      <p class="g-required-error" *ngIf="isInvalid(titleInput, form)">{{ requiredError }}</p>
    </label>
    <label>
      <hgroup>
        <h1>Category</h1>
        <p>Choose a category for your feedback</p>
      </hgroup>
      <app-select [options]="categories" name="category" ngDefaultControl [(ngModel)]="category" />
    </label>
    <label>
      <hgroup>
        <h1>Update Status</h1>
        <p>Change feedback state</p>
      </hgroup>
      <app-select [options]="statuses" name="status" ngDefaultControl [(ngModel)]="status" />
    </label>
    <label>
      <hgroup>
        <h1>Feedback Detail</h1>
        <p>Include any specific comments on what should be improved, added, etc.</p>
      </hgroup>
      <textarea class="control" [class.error]="isInvalid(detailText, form)" name="detail"
          [(ngModel)]="description" required #detailText="ngModel"></textarea>
      <p class="g-required-error" *ngIf="isInvalid(detailText, form)">{{ requiredError }}</p>
    </label>
    <div class="buttons">
      <button class="delete-button" type="button" (click)="deleteFeedback()">Delete</button>
      <button class="cancel-button" type="button" (click)="cancel()">Cancel</button>
      <button class="submit-button">Save Changes</button>
    </div>
  </form>
</div>
